<div class="row formModal">
  <div class="col-lg-6 col-md-6"></div>

  <div class="col-lg-6 col-md-6 add-form" id="user" @inOutPaneAnimation>
    <div>
      <a class="close-main pointer" (click)="closeAddUser()"><img src="assets/icons/close_form.svg" /></a>
      <span class="form-heading">Create Order</span>
    </div>
    <!-- form -->
    <div>
      <form autocomplete="off" [formGroup]="UserForm1">
        <span class="mx-3 mb-3">
        <div class="row">
          <div class="col-lg-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Customer Name</mat-label>
              <input matInput type="text" formControlName="clientName" [(ngModel)]="prductMasterObj.clientName"[matAutocomplete]="clientName" placeholder="Create new Customer" (keyup)="searchFunction($event)">
              <button matSuffix mat-icon-button>
                <mat-icon>arrow_drop_down</mat-icon>
              </button>
              <mat-autocomplete #clientName="matAutocomplete">
                <mat-option *ngFor="let item of listClientRequestsData | search:searchText | removeDuplicates:'clientName'; let i = index" (click)="listClientRequestsSecond(item, i)" [value]="item.clientName">{{item.clientName}}</mat-option>
              <!-- <mat-option *ngFor="let item of listClientRequestsData | removeDuplicates:'clientName'; let i = index;" [value]="item.clientName" (click)="listClientRequestsSecond(item, i)">{{item.clientName}}</mat-option> -->
              <mat-option value="" (click)="resetForm()">other</mat-option>
              </mat-autocomplete>
              <mat-error class="mt-1">Customer Name is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-4 col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Mobile Number</mat-label>
              <input
                matInput
                type="number"
                formControlName="mobileNumber"
              
                appOnlyNumbers 
                (input)="onNumberInput('mobileNumber', $event)"
              />
              <mat-error class="mt-1">Mobile Number3 is required</mat-error>
              <!-- <mat-error *ngIf="mobileNumber1Control.hasError('required')">Mobile number is required</mat-error>
              <mat-error *ngIf="mobileNumber1Control.hasError('maxlength')">Mobile number cannot exceed 10 digits</mat-error> -->
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Email Id</mat-label>
              <input matInput  formControlName="emailId" [(ngModel)]="prductMasterObj.emailId">
              <mat-error class="mt-1">EmailId is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-4" >
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select Country</mat-label>
              <mat-select formControlName="country" [(ngModel)]="prductMasterObj.country">
                <mat-option *ngFor="let item of countryList;" [value]="item.countryName" (click)="filterStates(item.countryName)">{{item.countryName}}</mat-option>
              </mat-select>
              <mat-error class="mt-1">Country is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-4" >
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select State</mat-label>
              <mat-select formControlName="state" [(ngModel)]="prductMasterObj.state">
                <mat-option *ngFor="let item of statesList;" [value]="item.stateName" (click)="filterCites(item.stateName)">{{item.stateName}}</mat-option>
              </mat-select>
              <mat-error class="mt-1">State is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-4" >
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select City</mat-label>
              <mat-select formControlName="city" [(ngModel)]="prductMasterObj.city">
                <mat-option *ngFor="let city of citiesList;" [value]="city">{{city}}</mat-option>
              </mat-select>
              <mat-error class="mt-1">Country is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>pinCode</mat-label>
              <input matInput type="" formControlName="pinCode"  [(ngModel)]="prductMasterObj.pinCode"  maxlength="6">
              <mat-error class="mt-1">pinCode is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Address</mat-label>
              <input matInput  formControlName="address" [(ngModel)]="prductMasterObj.address">
              <mat-error class="mt-1">Address is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>gstin</mat-label>
              <input matInput  formControlName="gstin" [(ngModel)]="prductMasterObj.gstin"  maxlength="50">
              <mat-error class="mt-1">gstin is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>panNo</mat-label>
              <input matInput  formControlName="panNo" [(ngModel)]="prductMasterObj.panNo"  maxlength="10">
              <mat-error class="mt-1">panNo is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>poNo</mat-label>
              <input matInput  formControlName="poNo" [(ngModel)]="prductMasterObj.poNo"  maxlength="9">
              <mat-error class="mt-1">poNo is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-4 col-md-4">
            <mat-form-field appearance="outline" class="w-100">
              <input matInput formControlName="poDate" [matDatepicker]="picker1" placeholder="poDate"  [(ngModel)]="prductMasterObj.poDate">
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-md-12">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Description</mat-label>
              <input matInput  formControlName="description" [(ngModel)]="prductMasterObj.description" >
              <mat-error class="mt-1">Description is required</mat-error>
            </mat-form-field>
          </div>
          
        </div>
      </span>
      </form>
      <!-- tasks -->
      <form autocomplete="off" [formGroup]="UserForm2">
      <mat-card>
        <div class="d-flex justify-content-start align-items-center my-2">
          <!-- <p style="font-weight: 500;">Tasks</p> -->
        </div>
          <div class="row">
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Saree</mat-label>
                <mat-select formControlName="clothType">
                  <mat-option *ngFor="let item of productMaster" [value]="item.itemName" [hidden]="item.itemType !==2" (click)="listSareesPrices(item)">{{item.itemName}}</mat-option>
                  <ng-container >
                  </ng-container>
                </mat-select>
                <mat-error class="mt-1">ClothType is required</mat-error>
              </mat-form-field>
            </div>
            <!-- <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Cloth Type</mat-label>
                <input matInput formControlName="clothType">
                <mat-error class="mt-1">Color is required</mat-error>
              </mat-form-field>
            </div> -->
            <!-- <div class="col-lg-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Design</mat-label>
                <mat-select formControlName="design">
                  <mat-option *ngFor="let item of Jacquard_designs" [value]="item.value">{{item.value}}</mat-option>
                </mat-select>
                <mat-error class="mt-1">Design is required</mat-error>
              </mat-form-field>
            </div> -->
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Estimated Price</mat-label>
                <mat-select formControlName="price">
                  <mat-option *ngFor="let item of finaldata" [value]="item.sellingPrice">{{item.sellingPrice}}</mat-option>
                </mat-select>
                <mat-error class="mt-1">Price is required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Color</mat-label>
                <input matInput formControlName="color">
                <mat-error class="mt-1">Color is required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Saree Length</mat-label>
                <mat-select formControlName="sareeLength">
                  <mat-option *ngFor="let item of SareeLength" [value]="item.value">{{item.value}}</mat-option>
                </mat-select>
                <mat-error class="mt-1">Sareelength is required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Color Code</mat-label>
                <input matInput formControlName="colorCode" type="color">
                <mat-error class="mt-1">ColorCode is required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Border Color</mat-label>
                <input matInput formControlName="borderColorCode" type="color">
                <mat-error class="mt-1">Bordercolor is required</mat-error>
              </mat-form-field>
            </div>
            <!-- <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Border Color</mat-label>
                <mat-select formControlName="borderColorCode">
                  <mat-option *ngFor="let item of colorCode" [value]="item.colorCode">
                  <div class="d-flex align-items-center">
                    <p style="height: 20px; width: 20px;" [style.background-color]="item.colorCode"></p>
                    <p>{{item.colorCode}}</p>
                  </div>
                </mat-option>
                </mat-select>
                <mat-error class="mt-1">bordercolor is required</mat-error>
              </mat-form-field>
            </div> -->
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Quantity</mat-label>
                <input matInput type="number" formControlName="quantity">
                <mat-error class="mt-1">Quantity is required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-lg-4 col-md-4">
              <mat-form-field appearance="outline" class="w-100">
                <input matInput formControlName="deadline" [matDatepicker]="picker2" placeholder="DeadLine">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-lg-4">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Remarks</mat-label>
                <input matInput formControlName="remarks">
                <mat-error class="mt-1">Remarks is required</mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="d-flex justify-content-end">
            <a class="add-task-btn" (click)="add(UserForm2.value)">Add</a>
          </div>
        </mat-card>
      </form>

      <div class="text-center mt-5">
        <button class="btn add-btn" (click)="submit()">CREATE</button>
      </div>
      <!-- list -->
      <div class="">
        <div class="table-resp mt-2" *ngIf="tasks.length > 0">
          <table class="table table-hover" id="mytable">
            <thead>
              <tr>
                <th>No</th>
                <th>clothType</th>
                <th>Color</th>
                <th>price</th>
                <th>Quantity</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let task of tasks; let j=index">
                <th>{{ j + 1 }}</th>
                <td>{{ task.clothType }}</td>
                <td>{{ task.color }}</td>
                <td>{{ task.price }}</td>
                <td>{{task.quantity}}</td>
                <td (click)="delete(j)"><img src="assets/icons/delete.svg" alt=""></td>
                <!-- <td>{{ task.reasonId == 1 ? 'No streem from camera' : task.reasonId == 2 ? 'Want new camers' : '' }}</td> -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
